file(GLOB sources "*.hpp" "*.cpp" "../silicium/*.hpp" "observable/*" "source/*" "sink/*")
if(LUA51_FOUND)
	file(GLOB luaSources "lua/*.cpp")
endif()
if(ZLIB_FOUND)
	file(GLOB zlibSources "zlib/*.cpp")
endif()
add_executable(unit_test ${sources} ${luaSources} ${zlibSources})
target_link_libraries(unit_test siliciumc ${LUA_LIBRARIES} ${ZLIB_LIBRARY} ${URIPARSER_LIBRARIES})
if(NOT MSVC)
	target_link_libraries(unit_test ${Boost_LIBRARIES})
endif()
if(SILICIUM_LINUX)
	target_link_libraries(unit_test dl)
endif()
