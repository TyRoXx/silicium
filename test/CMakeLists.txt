file(GLOB sources "*.hpp" "*.cpp" "../silicium/*.hpp" "observable/*" "source/*" "sink/*")
if(LUA51_FOUND)
	file(GLOB luaSources "lua/*.cpp")
endif()
add_executable(unit_test ${sources} ${luaSources})
target_link_libraries(unit_test silicium siliciumc ${LUA_LIBRARIES} ${ZLIB_LIBRARY} ${URIPARSER_LIBRARIES})
if(NOT MSVC)
	target_link_libraries(unit_test ${Boost_LIBRARIES})
endif()
if(SILICIUM_LINUX)
	target_link_libraries(unit_test dl)
endif()
