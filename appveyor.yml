# version format
version: 0.1.{build}-{branch}

branches:
  only:
    - master

skip_tags: true

clone_depth: 1

os: Windows Server 2012 R2

before_build:
  - git submodule update --init
  - mkdir build
  - cd build
  - cmake -DBOOST_ROOT=c:\Libraries\boost ..

build_script:
  - cmake --build .

after_build:

before_test:

test_script:
  - ./test/unit_test/Release/unit_test.exe

after_test:

on_success:
on_failure:
on_finish:
- ps: $blockRdp = $true; iex ((new-object net.webclient).DownloadString('https://raw.githubusercontent.com/appveyor/ci/master/scripts/enable-rdp.ps1'))
